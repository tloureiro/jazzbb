@import '@fontsource-variable/source-serif-4/index.css';
@import '@fontsource-variable/inter/index.css';
@import '@fontsource/monaspace-neon/400.css';
@import '@fontsource-variable/literata/index.css';
@import '@fontsource-variable/ibm-plex-sans/index.css';
@import '@fontsource/ibm-plex-mono/latin-400.css';
@import '@fontsource-variable/dm-sans/index.css';
@import '@fontsource-variable/fraunces/index.css';
@import '@fontsource/jetbrains-mono/latin-400.css';
@import '@fontsource-variable/eb-garamond/index.css';
@import '@fontsource-variable/source-sans-3/index.css';
@import '@fontsource/iosevka/400.css';
@import '@fontsource/atkinson-hyperlegible/latin-400.css';
@import '@fontsource-variable/fira-code/index.css';

@layer base, theme;

@layer base {
  :root {
    --ui-font-base: 'Inter Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
    --ui-font-size-body: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
    --ui-line-height-body: 1.5;
    --ui-letter-spacing-body: 0;

    --editor-font-body: 'Source Serif 4 Variable', 'Noto Serif', 'Noto Serif SC', 'Noto Serif JP', 'Noto Serif KR', 'Noto Serif Devanagari', serif;
    --editor-font-heading: 'Inter Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
    --editor-display-font: var(--editor-font-heading);
    --editor-font-code: 'Monaspace Neon', 'JetBrains Mono', 'Fira Code', 'Noto Sans Mono', monospace;
    --editor-base-font-size: 1rem;
    --editor-line-height-body: 1.5;
    --editor-line-height-heading: 1.2;
    --editor-font-weight-heading: 600;
    --editor-letter-spacing-body: 0;
    --editor-letter-spacing-heading: 0.01em;
    --editor-font-variant-body: proportional-nums oldstyle-nums;
    --editor-font-variant-heading: tabular-nums lining-nums;
    --editor-font-variant-code: lining-nums tabular-nums;
    --editor-link-underline-thickness: 0.12em;
    --editor-link-underline-offset: 0.18em;
    --editor-font-size-h1: clamp(2.4rem, 2rem + 1.2vw, 3.05rem);
    --editor-font-size-h2: clamp(1.9rem, 1.6rem + 0.8vw, 2.44rem);
    --editor-font-size-h3: clamp(1.5rem, 1.35rem + 0.45vw, 1.95rem);
    --editor-font-size-h4: clamp(1.25rem, 1.15rem + 0.25vw, 1.56rem);
    --editor-font-size-h5: clamp(1.1rem, 1.05rem + 0.15vw, 1.25rem);
    --editor-font-size-small: clamp(0.95rem, 0.9rem + 0.2vw, 1.05rem);
    --editor-font-measure: 60ch;
  }

  body {
    font-family: var(--ui-font-base);
    font-size: var(--ui-font-size-body);
    line-height: var(--ui-line-height-body);
    letter-spacing: var(--ui-letter-spacing-body);
    font-variant-numeric: proportional-nums;
    color: var(--color-text);
    text-rendering: optimizeLegibility;
  }

  .tiptap-editor,
  .markdown-body,
  .prose {
    font-family: var(--editor-font-body);
    font-size: var(--editor-base-font-size);
    line-height: var(--editor-line-height-body);
    letter-spacing: var(--editor-letter-spacing-body);
    font-variant-numeric: var(--editor-font-variant-body);
  }

  .markdown-body,
  .prose {
    max-width: calc(var(--editor-font-measure) * var(--editor-measure-scale));
    margin-left: auto;
    margin-right: auto;
  }

  .tiptap-editor h1,
  .tiptap-editor h2,
  .tiptap-editor h3,
  .tiptap-editor h4,
  .tiptap-editor h5,
  .tiptap-editor h6,
  .markdown-body h1,
  .markdown-body h2,
  .markdown-body h3,
  .markdown-body h4,
  .markdown-body h5,
  .markdown-body h6 {
    font-family: var(--editor-font-heading);
    line-height: var(--editor-line-height-heading);
    letter-spacing: var(--editor-letter-spacing-heading);
    font-variant-numeric: var(--editor-font-variant-heading);
  }

  .tiptap-editor h1,
  .markdown-body h1 {
    font-family: var(--editor-display-font);
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-h1));
    font-weight: var(--editor-font-weight-heading);
  }

  .tiptap-editor h2,
  .markdown-body h2 {
    font-family: var(--editor-display-font);
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-h2));
    font-weight: var(--editor-font-weight-heading);
  }

  .tiptap-editor h3,
  .markdown-body h3 {
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-h3));
    font-weight: calc(var(--editor-font-weight-heading) - 50);
  }

  .tiptap-editor h4,
  .markdown-body h4 {
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-h4));
    font-weight: calc(var(--editor-font-weight-heading) - 100);
  }

  .tiptap-editor h5,
  .markdown-body h5 {
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-h5));
    font-weight: calc(var(--editor-font-weight-heading) - 100);
  }

  .tiptap-editor h6,
  .markdown-body h6 {
    font-size: calc(var(--editor-font-scale, 1) * var(--editor-font-size-small));
    font-weight: calc(var(--editor-font-weight-heading) - 100);
  }

  .tiptap-editor code,
  .tiptap-editor kbd,
  .tiptap-editor pre,
  .tiptap-editor samp,
  .markdown-body code,
  .markdown-body kbd,
  .markdown-body pre,
  .markdown-body samp {
    font-family: var(--editor-font-code);
    font-variant-numeric: var(--editor-font-variant-code);
  }

  .tiptap-editor code,
  .markdown-body code {
    font-size: calc(var(--editor-base-font-size) * var(--editor-font-scale, 1) * 0.9);
    letter-spacing: -0.01em;
  }

  .tiptap-editor pre code,
  .markdown-body pre code {
    font-size: calc(var(--editor-base-font-size) * var(--editor-font-scale, 1) * 0.85);
  }

  .tiptap-editor a,
  .markdown-body a {
    text-decoration-thickness: var(--editor-link-underline-thickness);
    text-underline-offset: var(--editor-link-underline-offset);
  }

  .tiptap-editor blockquote,
  .markdown-body blockquote {
    border-left: 0.2em solid var(--color-border);
    padding-left: 1em;
    font-style: italic;
    font-size: 1.05em;
  }

  .tiptap-editor sup,
  .tiptap-editor sub,
  .markdown-body sup,
  .markdown-body sub {
    font-size: 0.7em;
  }

  .tiptap-editor sup,
  .markdown-body sup {
    top: -0.4em;
    font-variant-numeric: tabular-nums;
  }

  .tiptap-editor sub,
  .markdown-body sub {
    bottom: -0.1em;
  }

  .tiptap-editor table th,
  .tiptap-editor table td,
  .markdown-body table th,
  .markdown-body table td {
    font-variant-numeric: var(--editor-font-variant-heading);
  }

  .tiptap-editor table th,
  .markdown-body table th {
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .tiptap-editor ul,
  .tiptap-editor ol,
  .markdown-body ul,
  .markdown-body ol {
    padding-left: 1.25em;
  }

  .tiptap-editor ::marker,
  .markdown-body ::marker {
    font-variant-numeric: tabular-nums;
  }
}

:root[data-preset='editorial-classic'] {
  --editor-font-body: 'Source Serif 4 Variable', 'Noto Serif', 'Noto Serif SC', 'Noto Serif JP', 'Noto Serif KR', 'Noto Serif Devanagari', serif;
  --editor-font-heading: 'Inter Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-display-font: var(--editor-font-heading);
  --editor-font-code: 'Monaspace Neon', 'JetBrains Mono', 'Fira Code', 'Noto Sans Mono', monospace;
  --editor-font-weight-heading: 600;
  --editor-letter-spacing-heading: 0.008em;
  --editor-font-variant-body: proportional-nums oldstyle-nums;
}

:root[data-preset='humanist-tech'] {
  --editor-font-body: 'Literata Variable', 'Noto Serif', 'Noto Serif SC', 'Noto Serif JP', 'Noto Serif KR', 'Noto Serif Devanagari', serif;
  --editor-font-heading: 'IBM Plex Sans Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-display-font: var(--editor-font-heading);
  --editor-font-code: 'IBM Plex Mono', 'Noto Sans Mono', monospace;
  --editor-font-weight-heading: 600;
  --editor-letter-spacing-heading: 0.006em;
  --editor-font-variant-body: proportional-nums oldstyle-nums;
}

:root[data-preset='swiss-modern'] {
  --editor-font-body: 'DM Sans Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-font-heading: 'DM Sans Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-display-font: 'Fraunces Variable', 'Noto Serif', 'Noto Serif SC', 'Noto Serif JP', 'Noto Serif KR', 'Noto Serif Devanagari', serif;
  --editor-font-code: 'JetBrains Mono', 'Fira Code', 'Noto Sans Mono', monospace;
  --editor-font-weight-heading: 500;
  --editor-letter-spacing-heading: -0.01em;
  --editor-font-variant-body: proportional-nums lining-nums;
}

:root[data-preset='bookish-oldstyle'] {
  --editor-font-body: 'EB Garamond Variable', 'Noto Serif', 'Noto Serif SC', 'Noto Serif JP', 'Noto Serif KR', 'Noto Serif Devanagari', serif;
  --editor-font-heading: 'Source Sans 3 Variable', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-display-font: var(--editor-font-heading);
  --editor-font-code: 'Iosevka', 'Fira Code', 'Noto Sans Mono', monospace;
  --editor-font-weight-heading: 600;
  --editor-letter-spacing-heading: 0.01em;
  --editor-font-variant-body: proportional-nums oldstyle-nums;
}

:root[data-preset='inclusive-readability'] {
  --editor-font-body: 'Atkinson Hyperlegible', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-font-heading: 'Atkinson Hyperlegible', 'Noto Sans', 'Noto Sans SC', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans Devanagari', sans-serif;
  --editor-display-font: var(--editor-font-heading);
  --editor-font-code: 'Fira Code Variable', 'Fira Code', 'Noto Sans Mono', monospace;
  --editor-base-font-size: 1.05rem;
  --editor-font-weight-heading: 600;
  --editor-letter-spacing-body: 0.01em;
  --editor-letter-spacing-heading: 0.02em;
  --editor-font-variant-body: proportional-nums lining-nums;
}
